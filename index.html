<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Echo of Mobius is an immersive AI RPG where you can create unique companions, explore infinite adventures, and dive into our roleplay AI. Discover one of the best AI-powered games for endless fun.">
    <meta name="keywords" content="ai game, ai simulator, ai rpg, roleplay ai online, game website, fun games, best games, immersive games, Echo of Mobius, adventure games">
    <title>Echo of Mobius</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="files/favicon.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="background"></div> 
    
    <header class="header">
        <img src="files/topbar.png" alt="Header Background" class="header-bg-image">
        <nav>
            <img src="files/large-logo.png" alt="Large Logo" class="logo large-logo">
            <a href="#overview">
                <img src="files/logo.png" alt="Small Logo" class="logo small-logo">
            </a>
            <ul class="nav-links">
                <li><a href="#display-section">Companions</a></li>
                <li><a href="#gameplay-section">Gameplay</a></li>
                <li><a href="#influencer-section">Community</a></li>
                <li><a href="#social-media-section">Contact</a></li>
                <li>
                    <a href="https://echo-of-mobius.itch.io/play" target="_blank">
                        <img src="files/buynow.png" alt="Buy Now" class="buy-now-image">
                    </a>
                </li>
            </ul>
        </nav>
    </header>
  

    <main class="content">
        <section id="overview" class="section full-screen">
            <video autoplay loop muted playsinline class="fade-in" id="background-video">
                <source src="files/bg.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <img src="files/vidbg.jpg" id="background-image" alt="Background Image">
            <div class="overlay"></div>

            <div class="slogan slide-in">
                meet people's wildest dreams
            </div>
            
            <div class="button-group slide-in" >
                <a href="http://game.dreamin.land/" target="_blank">
                    <img src="files/wd.png" alt="Web Demo" class="cta-image">
                </a>
                <a href="https://echo-of-mobius.itch.io/play" target="_blank">
                    <img src="files/ea.png" alt="Buy Now" class="cta-image">
                </a>
            </div>
          
            
            <div class="corner-icons">
                <div class="icon-section">
                    <p class="icon-label slide-in">Available Now</p>
                    <img src="files/windows-badge.png" alt="Available on Windows" class="corner-icon slide-in">
                    <img src="files/macos-badge.png" alt="Available on Mac" class="corner-icon slide-in">
                    <img src="files/itch-badge.png" alt="Available on Itch.io" class="corner-icon slide-in">
                </div>
                <div class="icon-section">
                    <p class="icon-label slide-in">Coming Soon</p>
                    <img src="files/appstore-badge.png" alt="Coming Soon on iOS" class="corner-icon slide-in">
                    <img src="files/google-badge.png" alt="Coming Soon on Android" class="corner-icon slide-in">
                </div>
            </div>
        </section>

        <img src="files/line.png" alt="Section Divider" class="section-divider" id="display-section">

        <section id="character-display">
            <div class="section-header slide-in">
                <h2 class="section-title">Companion Showcase</h2>
                <p class="section-subtitle slide-in" id="character-count">
                    Meet <span id="character-number" class="emphasized-number">30000</span> characters crafted by our community.
                </p>
            </div>
            <div class="character-scene slide-in">
            </div>
        </section>      

        <img src="files/line.png" alt="Section Divider" class="section-divider" id="gameplay-section">

        <section class="gameplay-section">
            <div class="section-header">
                <h2 class="section-title slide-in">Gameplay Modes</h2>
                <p class="section-subtitle slide-in">Explore different ways to play and immerse yourself in unique adventures.</p>
            </div>
        
            <div class="gameplay-cards">
                <div class="card slide-in">
                    <div class="card-content">
                        <div class="title-icon-container">
                            <img src="files/icon1.png" alt="Icon" class="card-icon">
                            <h3 class="card-title">Chat and Evolve</h3>
                        </div>
                        <p class="card-description">Chat, bond, and grow together -- watch your companion transform with every interaction!</p>
                        <div class="genre-tags">
                            <span class="tag">RPG</span>
                            <span class="tag">Simulation</span>
                        </div>
                    </div>
                    <div class="card-media">
                        <img src="files/1.gif" alt="Chat and Raise Gameplay" class="card-gif">
                    </div>
                </div>
            
                <div class="card slide-in">
                    <div class="card-content">
                        <div class="title-icon-container">
                            <img src="files/icon2.png" alt="Icon" class="card-icon">
                            <h3 class="card-title">Endless Adventures</h3>
                        </div>
                        <p class="card-description">Set forth on infinite journeys, with surprises and challenges at every step!</p>
                        <div class="genre-tags">
                            <span class="tag">Adventure</span>
                            <span class="tag">CRPG</span>
                        </div>
                    </div>
                    <div class="card-media">
                        <img src="files/2.gif" alt="Adventure Gameplay" class="card-gif">
                    </div>
                </div>
            
                <div class="card slide-in">
                    <div class="card-content">
                        <div class="title-icon-container">
                            <img src="files/icon3.png" alt="Icon" class="card-icon">
                            <h3 class="card-title">Battle for Glory</h3>
                        </div>
                        <p class="card-description">Train hard, battle othersâ€™ creations, win treasures, and recruit allies!</p>
                        <div class="genre-tags">
                            <span class="tag">Turn-Based</span>
                            <span class="tag">Strategy</span>
                        </div>
                    </div>
                    <div class="card-media">
                        <img src="files/3.gif" alt="Skills Gameplay" class="card-gif">
                    </div>
                </div>
            </div>
            
            <div class="upcoming-section slide-in">
                <h3 class="upcoming-title">More to Come...</h3>
                <div class="upcoming-genres">
                    <span class="tag">Multiplayer</span>
                    <span class="tag">Beat-em-up</span>
                    <span class="tag">Farming</span>
                    <span class="tag">Building</span>
                    <span class="tag">Survival</span>
                    <span class="tag">. . .</span>
                </div>
                <p class="upcoming-description">New modes await on the horizon!</p>
            </div>
        </section>
        
        <img src="files/line.png" alt="Section Divider" id="influencer-section" class="section-divider">

        <section class="influencer-section">
            <div class="section-header">
                <h2 class="section-title slide-in">Community Spotlight</h2>
                <p class="section-subtitle slide-in">Watch popular streamers dive into this world and share their experiences.</p>
            </div>
            
            <div class="video-grid slide-in">
                <div class="video-item large-video" data-video="https://www.youtube.com/embed/dn2onwm6soE?autoplay=1">
                    <div class="overlay-vidcard">
                        <img src="files/v1.jpg" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
                <div class="video-item large-video" data-video="https://player.twitch.tv/?video=2280519927&time=1h9m55s&parent=echo.dreamin.land&parent=www.dreamin.land&parent=www.echoofmobius.com&autoplay=true">
                    <div class="overlay-vidcard">
                        <img src="files/v2.jpg" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
            </div>
            <div class="video-grid-small slide-in">
                <div class="video-item small-video" data-video="https://player.twitch.tv/?video=2279530768&time=2h15m28s&parent=echo.dreamin.land&parent=www.dreamin.land&parent=www.echoofmobius.com&autoplay=true">
                    <div class="overlay-vidcard">
                        <img src="files/v3.jpg" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
                <div class="video-item small-video" data-video="https://player.twitch.tv/?video=2276174850&time=0h38m45s&parent=echo.dreamin.land&parent=www.dreamin.land&parent=www.echoofmobius.com&autoplay=true">
                    <div class="overlay-vidcard">
                        <img src="files/v4.png" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
                <div class="video-item small-video" data-video="https://www.youtube.com/embed/ywR6L4R6diY?start=4254">
                    <div class="overlay-vidcard">
                        <img src="files/v5.jpg" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
                <div class="video-item small-video" data-video="https://player.twitch.tv/?video=2280598781&time=1h50m47s&parent=echo.dreamin.land&parent=www.dreamin.land&parent=www.echoofmobius.com&autoplay=true">
                    <div class="overlay-vidcard">
                        <img src="files/v6.png" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
            </div>
        </section>
        
        <div class="video-overlay" id="videoOverlay">
            <button class="close-button" onclick="closeOverlay()">âœ•</button>
            <div class="overlay-content">
                <iframe id="overlayVideo" src="" frameborder="0" allowfullscreen autoplay></iframe>
            </div>
        </div>

        <img src="files/line.png" alt="Section Divider" class="section-divider" id="social-media-section" >
        
        <section class="social-media-section">
            <h2 class="section-title slide-in">Connect with Us</h2>
            <p class="section-subtitle slide-in">Stay updated on our latest news and adventures</p>
        
            <form id="contact-form" action="contact-script.php" method="POST" class="contact-form slide-in">
                <input type="text" name="name" placeholder="Your Name" required>
                <input type="email" name="email" placeholder="Your Email" required>
                <textarea name="message" placeholder="Your Message" rows="4" required></textarea>
                <button type="submit" id="submit-btn">Send Message</button>
                <p id="form-message" class="form-message"></p>
            </form>

            <div class="social-icons slide-in">
                <a href="https://x.com/echo_of_mobius" target="_blank">
                    <img src="files/x.png" alt="X Icon">
                </a>
                <a href="https://discord.gg/AUNQUREjAS" target="_blank">
                    <img src="files/dc.png" alt="Discord Icon">
                </a>
                <a href="https://www.youtube.com/@EchoOfMobius" target="_blank">
                    <img src="files/yt.png" alt="YouTube Icon">
                </a>
            </div>
        </section>
        
        
    </main>

    <footer class="footer">
        <p>Â© Copyright 2024 Studio D. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
</body>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const video = document.querySelector("#background-video");
        video.playbackRate = 0.7; // Set playback speed to 0.5
    });
    // JavaScript to toggle logos on scroll
    window.addEventListener('scroll', () => {
        const header = document.querySelector('.header');
        const scrollPosition = window.scrollY;

        if (scrollPosition > 100) { // Change '100' to adjust when the logo switches
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });
    document.getElementById("contact-form").addEventListener("submit", async function(event) {
        event.preventDefault(); // Prevent form from submitting the traditional way
        const form = event.target;
        const formData = new FormData(form);

        try {
            const response = await fetch(form.action, {
                method: form.method,
                body: formData
            });

            if (response.ok) {
                document.getElementById("submit-btn").textContent = "Message Sent!";
                document.getElementById("submit-btn").disabled = true;
                document.getElementById("form-message").textContent = "Thank you for contacting us!";
            } else {
                document.getElementById("form-message").textContent = "Error sending message. Please try again.";
            }
        } catch (error) {
            document.getElementById("form-message").textContent = "Error connecting to server.";
        }
    });
    // Open overlay with video
    document.querySelectorAll('.video-item').forEach(item => {
        item.addEventListener('click', function() {
            const videoSrc = this.getAttribute('data-video');
            document.getElementById('overlayVideo').src = videoSrc;
            document.getElementById('videoOverlay').style.display = 'flex';
        });
    });

    // Close overlay
    function closeOverlay() {
        document.getElementById('overlayVideo').src = ''; // Clear the src to stop playback
        document.getElementById('videoOverlay').style.display = 'none';
    }

    const startDate = new Date("2024-10-15T00:00:00Z").getTime();
    const baseCount = 25000; // Starting count
    const incrementInterval = 180 * 1000;
    const now = Date.now();
    const elapsed = now - startDate;
    const increments = Math.floor(elapsed / incrementInterval);
    let currentCount = baseCount + increments;

    function updateCharacterCount() {
        // Increment the count by 1
        currentCount += 1;

        // Update the displayed count
        document.getElementById("character-number").textContent = currentCount.toLocaleString();

        // Generate the next delay (average 240 seconds, large random range)
        const minDelay = 10000;    // Minimum delay in milliseconds (e.g., 10 seconds)
        const maxDelay = 350000;   // Maximum delay in milliseconds (e.g., 470 seconds)
        const nextDelay = Math.floor(Math.random() * (maxDelay - minDelay + 1)) + minDelay;
        console.log(nextDelay)

        // Schedule the next update with the random delay
        setTimeout(updateCharacterCount, nextDelay);
    }

    // Initial call to start the cycle
    updateCharacterCount();


    document.addEventListener("DOMContentLoaded", function () {
        // Full list of images
        const imageList = [
            "123.png",
            "123123123.png",
            "12321.png",
            "123213.png",
            "12332.png",
            "1234.png",
            "124.png",
            "132114.png",
            "13432.png",
            "21312.png",
            "2213.png",
            "22222222.png",
            "231.png",
            "231223.png",
            "23123.png",
            "231232.png",
            "231241.png",
            "2321.png",
            "23212.png",
            "232123.png",
            "2321322.png",
            "3.png",
            "3121.png",
            "312123.png",
            "3123.png",
            "3123123.png",
            "3123132.png",
            "3212.png",
            "321232.png",
            "3231.png",
            "323123.png",
            "33.png"
        ];
        
        // Number of characters to display
        const numCharacters = 5;
        
        // Animation settings
        const animationDuration = 1.5; // Duration of the fade-in/out animation in seconds
        const animationInterval = 2; // Time interval between character replacements
        const spread = 40; // Characters will be spread across Â±30% from the center

        // Arrays to hold the two sets of img elements per position
        const imgElements = [];
        const visibleIndex = []; // Tracks which img element is currently visible per position (0 or 1)

        // Arrays to hold current and next team images
        let currentTeamImages = [];
        let nextTeamImages = [];

        // Function to select a unique random set of images
        let lastGroupImages = [];
        let newGroupImages = [];

        function selectRandomImages(excludeList = [], count = numCharacters) {
            let imagesStartingWith1 = imageList.filter(img => img.startsWith('1') && !excludeList.includes(img));
            let imagesStartingWith2 = imageList.filter(img => img.startsWith('2') && !excludeList.includes(img));
            let imagesStartingWith3 = imageList.filter(img => img.startsWith('3') && !excludeList.includes(img));

            // Reset excludeList if we don't have enough images
            if (imagesStartingWith1.length === 0 || imagesStartingWith2.length === 0 || imagesStartingWith3.length === 0) {
                excludeList = [];
                imagesStartingWith1 = imageList.filter(img => img.startsWith('1'));
                imagesStartingWith2 = imageList.filter(img => img.startsWith('2'));
                imagesStartingWith3 = imageList.filter(img => img.startsWith('3'));
            }

            const selectedImages = [];

            // Select one image starting with '1'
            const randomIndex1 = Math.floor(Math.random() * imagesStartingWith1.length);
            selectedImages.push(imagesStartingWith1[randomIndex1]);

            // Select one image starting with '2'
            const randomIndex2 = Math.floor(Math.random() * imagesStartingWith2.length);
            selectedImages.push(imagesStartingWith2[randomIndex2]);

            // Select one image starting with '3'
            const randomIndex3 = Math.floor(Math.random() * imagesStartingWith3.length);
            selectedImages.push(imagesStartingWith3[randomIndex3]);

            // Exclude images already selected
            let availableImages = imageList.filter(img => !excludeList.includes(img) && !selectedImages.includes(img));

            // Select remaining images randomly
            const remainingCount = count - selectedImages.length;
            for (let i = 0; i < remainingCount; i++) {
                if (availableImages.length === 0) {
                    // Reset availableImages if we've run out
                    availableImages = imageList.filter(img => !excludeList.includes(img) && !selectedImages.includes(img));
                }
                const randomIndex = Math.floor(Math.random() * availableImages.length);
                selectedImages.push(availableImages.splice(randomIndex, 1)[0]);
            }

            return selectedImages;
        }

        let replacementOrder = [];
        let replacePositionIndex = 0; // Initialize the index to track the replacement position

        // Modify the initialization to generate the initial random order
        function initializeReplacementOrder() {
            replacementOrder = [];
            for (let i = 0; i < numCharacters; i++) {
                replacementOrder.push(i);
            }
            // Shuffle the array to create a random order
            replacementOrder.sort(() => Math.random() - 0.5);
        }

        initializeReplacementOrder();

        // Get the character scene container
        const characterScene = document.querySelector(".character-scene");
        characterScene.innerHTML = ''; // Clear any existing content

        // Initialize image elements and load the initial team
        function initializeCharacters() {
            // Select initial group of images with the required constraints
            lastGroupImages = selectRandomImages([], numCharacters);

            for (let i = 0; i < numCharacters; i++) {
                // Create two img elements per position
                const img1 = document.createElement('img');
                const img2 = document.createElement('img');

                img1.classList.add('character'); // Start without 'visible' class
                img2.classList.add('character'); // img2 hidden

                img1.style.position = 'absolute';
                img1.style.bottom = '0';
                img2.style.position = 'absolute';
                img2.style.bottom = '0';

                // Set initial image for img1
                const imageName = lastGroupImages[i];
                img1.src = `characters/${imageName}`;
                img1.alt = `Character ${i + 1}`;
                positionAndStyleCharacter(img1, i);

                // img2 will get its src when it's time to display it

                // Append images to the scene
                characterScene.appendChild(img1);
                characterScene.appendChild(img2);

                // Store the img elements
                imgElements[i] = [img1, img2];
                visibleIndex[i] = 0; // img1 is the initial image

                // Staggered fade-in for initial characters
                setTimeout(() => {
                    img1.classList.add('visible');
                }, 0 * animationInterval * 1000);
            }
        }

        // Function to position and style characters
        function positionAndStyleCharacter(character, index) {
            const totalCharacters = numCharacters;
            const centerPosition = 50; // Center position in percent

            // Compute the horizontal position
            let position;
            if (totalCharacters === 1) {
                position = centerPosition;
            } else {
                position = centerPosition - (spread / 2) + (index * spread / (totalCharacters - 1));
            }
            character.style.left = `${position}%`;

            // Center the character horizontally
            character.style.transform = 'translateX(-50%)';

            // Determine size based on filename
            const fileName = character.src.split('/').pop();
            const sizeClass = fileName.charAt(0);

            // Set the scale based on sizeClass
            let scale;
            if (sizeClass === '1') scale = 0.3;
            else if (sizeClass === '2') scale = 0.4;
            else if (sizeClass === '3') scale = 0.5;
            else scale = 0.4; // Default scale

            // Apply scale and random horizontal flip
            const flip = Math.random() < 0.5 ? -1 : 1;
            character.style.transform += ` scale(${flip * scale}, ${scale})`;

            // Set z-index so that more centered characters are on top
            const distanceFromCenter = Math.abs(position - centerPosition);
            const zIndex = 1000 - Math.round(distanceFromCenter * 10);
            character.style.zIndex = zIndex;
        }

        // Initialize the characters
        initializeCharacters();
        setTimeout(() => {
            // Start replacing characters one by one at intervals
            setInterval(() => {
                const positionToReplace = replacementOrder[replacePositionIndex];

                // On the first replacement of the cycle, select a new group of images
                if (replacePositionIndex === 0) {
                    // Update lastGroupImages
                    lastGroupImages = [];
                    for (let i = 0; i < numCharacters; i++) {
                        const imgIndex = visibleIndex[i];
                        lastGroupImages.push(imgElements[i][imgIndex].src.split('/').pop());
                    }

                    // Select new group of images, excluding lastGroupImages
                    newGroupImages = selectRandomImages(lastGroupImages, numCharacters);
                }

                replaceCharacterAtPosition(positionToReplace);

                // Increment replacePositionIndex
                replacePositionIndex++;

                // Check if we've reached the end of the current replacementOrder
                if (replacePositionIndex >= numCharacters) {
                    // Reset the index
                    replacePositionIndex = 0;
                    // Generate a new random order for the next turn
                    initializeReplacementOrder();
                }

            }, animationInterval * 1000);
        }, 0 * animationInterval * 1000);

        // Function to replace a character at a specific position
        function replaceCharacterAtPosition(position) {
            const currentVisibleIndex = visibleIndex[position];
            const nextVisibleIndex = (currentVisibleIndex + 1) % 2;

            const currentImg = imgElements[position][currentVisibleIndex];
            const nextImg = imgElements[position][nextVisibleIndex];

            // Assign the new image from newGroupImages
            const nextImageName = newGroupImages[position];
            nextImg.src = `characters/${nextImageName}`;
            nextImg.alt = `Character ${position + 1}`;
            positionAndStyleCharacter(nextImg, position);

            // Start the fade-in and fade-out transitions
            setTimeout(() => {
                currentImg.classList.remove('visible');
                nextImg.classList.add('visible');
            }, 50); // Slight delay to ensure transitions are applied

            // Update the visible index
            visibleIndex[position] = nextVisibleIndex;
        }
    });

    // Function to check if an element is in the viewport
    function isInViewport(element) {
        const rect = element.getBoundingClientRect();
        return rect.top >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight);
    }

    // Function to add the visible class
    function animateElements() {
        const slideElements = document.querySelectorAll('.slide-in');
        slideElements.forEach((element) => {
            if (isInViewport(element)) {
                element.classList.add('slide-in-visible');
            }
        });
    }

    // Run animation on scroll
    window.addEventListener('scroll', animateElements);

    // Run animation on load
    window.addEventListener('load', animateElements);

    window.addEventListener('load', () => {
        const fadeElements = document.querySelectorAll('.fade-in');
        fadeElements.forEach(element => {
            element.classList.add('fade-in-visible');
        });
    });

    document.addEventListener("DOMContentLoaded", function () {
        const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
        const video = document.getElementById('background-video');
        const image = document.getElementById('background-image');

        if (isSafari) {
            // Hide the video and show the image if Safari
            video.style.display = 'none';
            image.style.display = 'block';
        } else {
            // For non-Safari browsers, show the video
            video.style.display = 'block';
            image.style.display = 'none';
        }
    });

</script>
</html>
