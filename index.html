<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echo of Mobius</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="files/favicon.png" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
    <div class="background"></div> <!-- Fixed background -->
    
    <header class="header">
        <img src="files/topbar.png" alt="Header Background" class="header-bg-image">
        <!-- <img src="files/topbar.png" alt="Header Background" class="header-logo-bg-image"> -->
        <nav>
            <!-- <img src="files/logo.png" alt="Logo" class="logo"> -->
            <img src="files/large-logo.png" alt="Large Logo" class="logo large-logo">
            <a href="#overview">
                <img src="files/logo.png" alt="Small Logo" class="logo small-logo">
            </a>
            <ul class="nav-links">
                <li><a href="#display-section">Companions</a></li>
                <li><a href="#gameplay-section">Gameplay</a></li>
                <li><a href="#influencer-section">Community</a></li>
                <li><a href="#social-media-section">Contact</a></li>
                <li>
                    <a href="https://echo-of-mobius.itch.io/play" target="_blank">
                        <img src="files/buynow.png" alt="Buy Now" class="buy-now-image">
                    </a>
                </li>
                <!-- <li><a href="https://echo-of-mobius.itch.io/play" class="buy-now-button">Buy Now</a></li>  -->
            </ul>
        </nav>
    </header>
  

    <main class="content">
        <section id="overview" class="section full-screen">
            <video autoplay loop muted playsinline class="background-video">
                <source src="files/bg.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="overlay"></div> <!-- Transparent black overlay -->
            
            <!-- <div class="logo-center">
                <img src="files/large-logo.png" alt="Logo" class="large-logo">
            </div> -->
            
            <!-- Slogan Text -->
            <div class="slogan">
                meet people's wildest dreams
            </div>
            
            <!-- <div class="button-group">
                <a href="http://game.dreamin.land/" target="_blank" class="cta-button">Web Demo</a>
                <a href="https://echo-of-mobius.itch.io/play" class="cta-button buy-now">Buy Now</a>
            </div> -->
            <div class="button-group">
                <a href="http://game.dreamin.land/" target="_blank">
                    <img src="files/wd.png" alt="Web Demo" class="cta-image">
                </a>
                <a href="https://echo-of-mobius.itch.io/play" target="_blank">
                    <img src="files/ea.png" alt="Buy Now" class="cta-image">
                </a>
            </div>
          
            
            <div class="corner-icons">
                <div class="icon-section">
                    <p class="icon-label">Available Now</p>
                    <img src="files/windows-badge.png" alt="Available on Windows" class="corner-icon">
                    <img src="files/macos-badge.png" alt="Available on Mac" class="corner-icon">
                    <img src="files/itch-badge.png" alt="Available on Itch.io" class="corner-icon">
                </div>
                <div class="icon-section">
                    <p class="icon-label">Coming Soon</p>
                    <img src="files/appstore-badge.png" alt="Coming Soon on iOS" class="corner-icon">
                    <img src="files/google-badge.png" alt="Coming Soon on Android" class="corner-icon">
                </div>
            </div>
          
          
        </section>
        <!-- <p class="temp-notice">In dev, coming soon...</p> -->

        <img src="files/line.png" alt="Section Divider" class="section-divider" id="display-section">

        <section id="character-display">
            <div class="section-header">
                <h2 class="section-title">Companion Showcase</h2>
                <p class="section-subtitle" id="character-count">
                    Meet <span id="character-number">30000</span> characters crafted by our community.
                </p>
            </div>
            <div class="character-scene">
            </div>
        </section>      

        <img src="files/line.png" alt="Section Divider" class="section-divider" id="gameplay-section">

        <section class="gameplay-section">
            <div class="section-header">
                <h2 class="section-title">Gameplay Modes</h2>
                <p class="section-subtitle">Explore different ways to play and immerse yourself in unique adventures.</p>
            </div>
        
            <!-- Gameplay Cards -->
            <div class="gameplay-cards">
                <div class="card">
                    <div class="card-content">
                        <div class="title-icon-container">
                            <img src="files/icon1.png" alt="Icon" class="card-icon">
                            <h3 class="card-title">Chat and Evolve</h3>
                        </div>
                        <p class="card-description">Chat, bond, and grow together -- watch your companion transform with every interaction!</p>
                        <div class="genre-tags">
                            <span class="tag">RPG</span>
                            <span class="tag">Simulation</span>
                        </div>
                    </div>
                    <div class="card-media">
                        <img src="files/evolve.gif" alt="Chat and Raise Gameplay" class="card-gif">
                    </div>
                </div>
            
                <div class="card">
                    <div class="card-content">
                        <div class="title-icon-container">
                            <img src="files/icon2.png" alt="Icon" class="card-icon">
                            <h3 class="card-title">Endless Adventures</h3>
                        </div>
                        <p class="card-description">Set forth on infinite journeys, with surprises and challenges at every step!</p>
                        <div class="genre-tags">
                            <span class="tag">Adventure</span>
                            <span class="tag">CRPG</span>
                        </div>
                    </div>
                    <div class="card-media">
                        <img src="files/adventure.gif" alt="Adventure Gameplay" class="card-gif">
                    </div>
                </div>
            
                <div class="card">
                    <div class="card-content">
                        <div class="title-icon-container">
                            <img src="files/icon3.png" alt="Icon" class="card-icon">
                            <h3 class="card-title">Battle for Glory</h3>
                        </div>
                        <p class="card-description">Train hard, battle others’ creations, win treasures, and recruit allies!</p>
                        <div class="genre-tags">
                            <span class="tag">Turn-Based</span>
                            <span class="tag">Strategy</span>
                        </div>
                    </div>
                    <div class="card-media">
                        <img src="files/team.gif" alt="Skills Gameplay" class="card-gif">
                    </div>
                </div>
            </div>
            
            <div class="upcoming-section">
                <h3 class="upcoming-title">More to Come...</h3>
                <div class="upcoming-genres">
                    <span class="tag">Multiplayer</span>
                    <span class="tag">Beat-em-up</span>
                    <span class="tag">Farming</span>
                    <span class="tag">Building</span>
                    <span class="tag">Survival</span>
                    <span class="tag">. . .</span>
                </div>
                <p class="upcoming-description">New modes await on the horizon!</p>
            </div>
        </section>
        
        <img src="files/line.png" alt="Section Divider" id="influencer-section" class="section-divider">

        <section class="influencer-section">
            <div class="section-header">
                <h2 class="section-title">Community Spotlight</h2>
                <p class="section-subtitle">Watch popular streamers dive into this world and share their experiences.</p>
            </div>
            
            <div class="video-grid">
                <!-- Larger videos -->
                <div class="video-item large-video" data-video="https://www.youtube.com/embed/dn2onwm6soE?autoplay=1">
                    <div class="overlay-vidcard">
                        <img src="files/v1.jpg" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
                <div class="video-item large-video" data-video="https://player.twitch.tv/?video=2280519927&time=1h9m55s&parent=echo.dreamin.land&parent=www.dreamin.land&parent=www.echoofmobius.com&autoplay=true">
                    <div class="overlay-vidcard">
                        <img src="files/v2.jpg" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
            </div>
            <div class="video-grid-small">
                <!-- Smaller videos -->
                <div class="video-item small-video" data-video="https://player.twitch.tv/?video=2279530768&time=2h15m28s&parent=echo.dreamin.land&parent=www.dreamin.land&parent=www.echoofmobius.com&autoplay=true">
                    <div class="overlay-vidcard">
                        <img src="files/v3.jpg" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
                <div class="video-item small-video" data-video="https://player.twitch.tv/?video=2276174850&time=0h38m45s&parent=echo.dreamin.land&parent=www.dreamin.land&parent=www.echoofmobius.com&autoplay=true">
                    <div class="overlay-vidcard">
                        <img src="files/v4.png" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
                <div class="video-item small-video" data-video="https://www.youtube.com/embed/ywR6L4R6diY?start=4254">
                    <div class="overlay-vidcard">
                        <img src="files/v5.jpg" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
                <div class="video-item small-video" data-video="https://player.twitch.tv/?video=2280598781&time=1h50m47s&parent=echo.dreamin.land&parent=www.dreamin.land&parent=www.echoofmobius.com&autoplay=true">
                    <div class="overlay-vidcard">
                        <img src="files/v6.png" alt="Video Cover" class="video-cover">
                        <img src="files/play-button.png" alt="Play Button" class="play-button">
                    </div>
                </div>
            </div>
        </section>
        
        <div class="video-overlay" id="videoOverlay">
            <button class="close-button" onclick="closeOverlay()">✕</button>
            <div class="overlay-content">
                <iframe id="overlayVideo" src="" frameborder="0" allowfullscreen autoplay></iframe>
            </div>
        </div>

        <img src="files/line.png" alt="Section Divider" class="section-divider" id="social-media-section" >
        
        <section class="social-media-section">
            <h2 class="section-title">Connect with Us</h2>
            <p class="section-subtitle">Stay updated on our latest news and adventures</p>
        
            <form id="contact-form" action="contact-script.php" method="POST" class="contact-form">
                <input type="text" name="name" placeholder="Your Name" required>
                <input type="email" name="email" placeholder="Your Email" required>
                <textarea name="message" placeholder="Your Message" rows="4" required></textarea>
                <button type="submit" id="submit-btn">Send Message</button>
                <p id="form-message" class="form-message"></p> <!-- Message placeholder -->
            </form>

            <div class="social-icons">
                <a href="https://x.com/echo_of_mobius" target="_blank">
                    <img src="files/x.png" alt="X Icon">
                </a>
                <a href="https://discord.gg/AUNQUREjAS" target="_blank">
                    <img src="files/dc.png" alt="Discord Icon">
                </a>
                <a href="https://www.youtube.com/@EchoOfMobius" target="_blank">
                    <img src="files/yt.png" alt="YouTube Icon">
                </a>
            </div>
        </section>
        
        
    </main>

    <footer class="footer">
        <p>© Copyright 2024 Studio D. All rights reserved.</p>
    </footer>

    <script src="script.js"></script>
</body>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const video = document.querySelector(".background-video");
        video.playbackRate = 0.7; // Set playback speed to 0.5
    });
    // JavaScript to toggle logos on scroll
    window.addEventListener('scroll', () => {
        const header = document.querySelector('.header');
        const scrollPosition = window.scrollY;

        if (scrollPosition > 100) { // Change '100' to adjust when the logo switches
            header.classList.add('scrolled');
        } else {
            header.classList.remove('scrolled');
        }
    });
    document.getElementById("contact-form").addEventListener("submit", async function(event) {
        event.preventDefault(); // Prevent form from submitting the traditional way
        const form = event.target;
        const formData = new FormData(form);

        try {
            const response = await fetch(form.action, {
                method: form.method,
                body: formData
            });

            if (response.ok) {
                document.getElementById("submit-btn").textContent = "Message Sent!";
                document.getElementById("submit-btn").disabled = true;
                document.getElementById("form-message").textContent = "Thank you for contacting us!";
            } else {
                document.getElementById("form-message").textContent = "Error sending message. Please try again.";
            }
        } catch (error) {
            document.getElementById("form-message").textContent = "Error connecting to server.";
        }
    });
    // Open overlay with video
    document.querySelectorAll('.video-item').forEach(item => {
        item.addEventListener('click', function() {
            const videoSrc = this.getAttribute('data-video');
            document.getElementById('overlayVideo').src = videoSrc;
            document.getElementById('videoOverlay').style.display = 'flex';
        });
    });

    // Close overlay
    function closeOverlay() {
        document.getElementById('overlayVideo').src = ''; // Clear the src to stop playback
        document.getElementById('videoOverlay').style.display = 'none';
    }



    document.addEventListener("DOMContentLoaded", function () {
        // Full list of images
        const imageList = [
            "123.png",
            "123123123.png",
            "12321.png",
            "123213.png",
            "12332.png",
            "1234.png",
            "124.png",
            "132114.png",
            "13432.png",
            "213.png",
            "21312.png",
            "2213.png",
            "22222222.png",
            "231.png",
            "231223.png",
            "23123.png",
            "231232.png",
            "231241.png",
            "2321.png",
            "23212.png",
            "232123.png",
            "2321322.png",
            "3.png",
            "3121.png",
            "312123.png",
            "3123.png",
            "3123123.png",
            "3123132.png",
            "3212.png",
            "321232.png",
            "3231.png",
            "323123.png",
            "33.png"
        ];
        
        // Number of characters to display
        const numCharacters = 5;
        
        // Animation settings
        const animationDuration = 2; // Duration of the fade-in/out animation in seconds (slower)
        const animationInterval = 1.5; // Time interval between character fade-ins (slower)
        const totalInitialAnimationTime = (numCharacters - 1) * animationInterval + animationDuration;

        // Spread setting
        const spread = 60; // Characters will be spread across ±30% from the center (wider spread)

        // Function to select random images
        function selectRandomImages(excludeList = []) {
            const availableImages = imageList.filter(img => !excludeList.includes(img));
            const selectedImages = [];
            const imageListCopy = [...availableImages]; // Copy the list to avoid modifying the original
            for (let i = 0; i < numCharacters; i++) {
                if (imageListCopy.length === 0) break; // In case there are not enough images left
                const randomIndex = Math.floor(Math.random() * imageListCopy.length);
                selectedImages.push(imageListCopy.splice(randomIndex, 1)[0]);
            }
            return selectedImages;
        }
        
        // Function to create and display characters
        function displayCharacters(selectedImages) {
            // Get the character scene container
            const characterScene = document.querySelector(".character-scene");
            characterScene.innerHTML = ''; // Clear any existing images
            
            // Create img elements for the selected images
            selectedImages.forEach((imageName, index) => {
                const img = document.createElement('img');
                img.src = `characters/${imageName}`;
                img.alt = `Character ${index + 1}`;
                img.classList.add('character');
                characterScene.appendChild(img);
            });
            
            // Proceed with positioning and animating the characters
            positionAndAnimateCharacters();
        }
        
        // Function to position and animate characters
        function positionAndAnimateCharacters() {
            const characters = document.querySelectorAll(".character");
            const totalCharacters = characters.length;
            const centerPosition = 50; // Center position in percent
        
            // Generate staggered animation delays and shuffle them for a different sequence
            let delays = [];
            for (let i = 0; i < totalCharacters; i++) {
                delays.push(i * animationInterval); // Adjusted time interval
            }
            delays.sort(() => Math.random() - 0.5); // Shuffle the delays
        
            // Create an array to hold character data for sorting
            let characterData = [];
        
            // First, calculate positions and collect character data
            characters.forEach((character, index) => {
                // Compute the horizontal position to spread characters more widely
                let position;
                if (totalCharacters === 1) {
                    position = centerPosition;
                } else {
                    position = centerPosition - (spread / 2) + (index * spread / (totalCharacters - 1));
                }
        
                // Calculate the distance from the center for z-index calculation
                const distanceFromCenter = Math.abs(position - centerPosition);
        
                // Collect character data
                characterData.push({
                    element: character,
                    index: index,
                    position: position,
                    distanceFromCenter: distanceFromCenter,
                });
            });
        
            // Sort characters so that more centered ones have higher z-index
            characterData.sort((a, b) => a.distanceFromCenter - b.distanceFromCenter);
        
            // Apply styles to each character
            characterData.forEach((data, sortedIndex) => {
                const { element: character, index, position, distanceFromCenter } = data;
        
                // Set the horizontal position
                character.style.left = `${position}%`;
        
                // Center the character horizontally
                character.style.transform = 'translateX(-50%)';
        
                // Determine size based on filename
                const fileName = character.src.split('/').pop();
                const sizeClass = fileName.charAt(0);
        
                // Set the scale based on sizeClass
                let scale;
                if (sizeClass === '1') scale = 0.3;
                else if (sizeClass === '2') scale = 0.4;
                else if (sizeClass === '3') scale = 0.5;
                else scale = 0.4; // Default scale if sizeClass is not 1, 2, or 3
        
                // Apply scale and random horizontal flip
                const flip = Math.random() < 0.5 ? -1 : 1;
                character.style.transform += ` scale(${flip * scale}, ${scale})`;
        
                // Apply a random animation delay from the shuffled delays
                character.style.animationDelay = `${delays[index]}s`;
        
                // Set z-index so that more centered characters are on top
                const zIndex = 1000 - Math.round(distanceFromCenter * 10);
                character.style.zIndex = zIndex;
        
                // Set the animation duration (slower)
                character.style.animationDuration = `${animationDuration}s`;
            });
        }
        
        // Initial display of characters
        const initialSelectedImages = selectRandomImages();
        displayCharacters(initialSelectedImages);
        
        // After the initial animations, start replacing characters
        setTimeout(() => {
            // Start the replacement loop
            let replaceIndex = 0; // Index of the character to replace
            setInterval(() => {
                replaceCharacter(replaceIndex);
                replaceIndex = (replaceIndex + 1) % numCharacters; // Loop back to 0 after reaching the end
            }, animationInterval * 1000);
        }, totalInitialAnimationTime * 1000);
        
        // Function to replace a character
        function replaceCharacter(index) {
            const characters = document.querySelectorAll(".character");
            const characterToReplace = characters[index];
            const currentImages = Array.from(characters).map(char => char.src.split('/').pop());
            const newImageList = imageList.filter(img => !currentImages.includes(img));
            
            if (newImageList.length === 0) return; // No new images to replace with
            
            // Select a new image
            const randomIndex = Math.floor(Math.random() * newImageList.length);
            const newImageName = newImageList[randomIndex];
            
            // Create a new img element
            const newCharacter = document.createElement('img');
            newCharacter.src = `characters/${newImageName}`;
            newCharacter.alt = `Character ${index + 1}`;
            newCharacter.classList.add('character');
            newCharacter.style.opacity = '0'; // Start invisible
            newCharacter.style.position = 'absolute';
            newCharacter.style.bottom = '0';
            
            // Fade out the old character and remove it
            characterToReplace.style.transition = `opacity ${animationDuration}s`;
            characterToReplace.style.opacity = '0';
            setTimeout(() => {
                characterToReplace.parentNode.removeChild(characterToReplace);
            }, animationDuration * 1000);

            // Append the new character to the scene
            characterToReplace.parentNode.appendChild(newCharacter);
            
            // Position and animate the new character
            positionAndAnimateNewCharacter(newCharacter, index);
            
        }
        
        // Function to position and animate the new character
        function positionAndAnimateNewCharacter(character, index) {
            const totalCharacters = numCharacters;
            const centerPosition = 50; // Center position in percent
        
            // Compute the horizontal position
            let position;
            if (totalCharacters === 1) {
                position = centerPosition;
            } else {
                position = centerPosition - (spread / 2) + (index * spread / (totalCharacters - 1));
            }
            character.style.left = `${position}%`;
        
            // Center the character horizontally
            character.style.transform = 'translateX(-50%)';
        
            // Determine size based on filename
            const fileName = character.src.split('/').pop();
            const sizeClass = fileName.charAt(0);
        
            // Set the scale based on sizeClass
            let scale;
            if (sizeClass === '1') scale = 0.3;
            else if (sizeClass === '2') scale = 0.4;
            else if (sizeClass === '3') scale = 0.5;
            else scale = 0.4; // Default scale if sizeClass is not 1, 2, or 3
        
            // Apply scale and random horizontal flip
            const flip = Math.random() < 0.5 ? -1 : 1;
            character.style.transform += ` scale(${flip * scale}, ${scale})`;
        
            // Set z-index based on distance from center
            const distanceFromCenter = Math.abs(position - centerPosition);
            const zIndex = 1000 - Math.round(distanceFromCenter * 10);
            character.style.zIndex = zIndex;
        
            // Set the animation duration for fade-in
            character.style.transition = `opacity ${animationDuration}s`;
            setTimeout(() => {
                character.style.opacity = '1';
            }, 50); // Slight delay to ensure the transition occurs
        }
    });

    const startDate = new Date("2024-10-15T00:00:00Z").getTime();
    const baseCount = 25000; // Starting count
    const incrementInterval = 240 * 1000; 

    function updateCharacterCount() {
        const now = Date.now();
        const elapsed = now - startDate;
        const increments = Math.floor(elapsed / incrementInterval);
        const currentCount = baseCount + increments;

        document.getElementById("character-number").textContent = currentCount.toLocaleString();
    }

    // Update count on page load
    updateCharacterCount();

    // Update the count every 90 seconds
    setInterval(updateCharacterCount, incrementInterval);

</script>
</html>
